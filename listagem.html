<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meus H√°bitos - GrowTrack</title>
    <meta name="description" content="Gerencie todos os seus h√°bitos em um s√≥ lugar no GrowTrack.">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS Principal -->
    <link rel="stylesheet" href="css/style.css">
    <!-- CSS Espec√≠fico da P√°gina -->
    <link rel="stylesheet" href="css/listagem.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header__content">
                <div class="logo">
                    <img src="images/logo.svg" alt="GrowTrack Logo">
                    <span>GrowTrack</span>
                </div>
                <nav class="nav">
                    <a href="index.html" class="nav__link">Home</a>
                    <a href="dashboard.html" class="nav__link">Dashboard</a>
                    <a href="listagem.html" class="nav__link nav__link--active">Meus H√°bitos</a>
                    <a href="login.html" class="nav__link">Sair</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Page Header -->
        <section class="page-header">
            <div class="container">
                <div class="page-header__content">
                    <h1>Meus H√°bitos</h1>
                    <p>Gerencie todos os seus h√°bitos e acompanhe seu progresso</p>
                </div>
            </div>
        </section>

        <!-- Filters Section -->
        <section class="filters-section">
            <div class="container">
                <div class="filters-content">
                    <div class="filters-left">
                        <div class="filter-group">
                            <label for="category-filter" class="filter-label">Categoria:</label>
                            <select id="category-filter" class="filter-select">
                                <option value="">Todas as categorias</option>
                                <option value="saude">Sa√∫de</option>
                                <option value="produtividade">Produtividade</option>
                                <option value="financeiro">Financeiro</option>
                                <option value="pessoal">Pessoal</option>
                                <option value="estudos">Estudos</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="status-filter" class="filter-label">Status:</label>
                            <select id="status-filter" class="filter-select">
                                <option value="">Todos os status</option>
                                <option value="ativo">Ativo</option>
                                <option value="pausado">Pausado</option>
                                <option value="concluido">Conclu√≠do</option>
                            </select>
                        </div>
                    </div>
                    <div class="filters-right">
                        <a href="novo-habito.html" class="btn btn--primary">
                            + Novo h√°bito
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Habits List -->
        <section class="habits-list-section">
            <div class="container">
                <div class="habits-table">
                    <div class="table-header">
                        <div class="table-cell">H√°bito</div>
                        <div class="table-cell">Categoria</div>
                        <div class="table-cell">Frequ√™ncia</div>
                        <div class="table-cell">√öltima conclus√£o</div>
                        <div class="table-cell">Streak</div>
                        <div class="table-cell">Status</div>
                        <div class="table-cell">A√ß√µes</div>
                    </div>

                    <div class="table-row">
                        <div class="table-cell">
                            <div class="habit-cell">
                                <div class="habit-icon">üíß</div>
                                <div class="habit-info">
                                    <div class="habit-name">Beber √°gua</div>
                                    <div class="habit-desc">8 copos por dia</div>
                                </div>
                            </div>
                        </div>
                        <div class="table-cell">
                            <span class="badge badge--primary">Sa√∫de</span>
                        </div>
                        <div class="table-cell">Di√°rio</div>
                        <div class="table-cell">Hoje</div>
                        <div class="table-cell">
                            <div class="streak-info">
                                <span class="streak-number">15</span>
                                <span class="streak-label">dias</span>
                            </div>
                        </div>
                        <div class="table-cell">
                            <span class="badge badge--success">Ativo</span>
                        </div>
                        <div class="table-cell">
                            <div class="actions-cell">
                                <a href="detalhe.html" class="btn btn--ghost btn--sm">Editar</a>
                                <button class="btn btn--ghost btn--sm btn--danger" onclick="deleteHabit(this)">Excluir</button>
                            </div>
                        </div>
                    </div>

                    <div class="table-row">
                        <div class="table-cell">
                            <div class="habit-cell">
                                <div class="habit-icon">üèÉ‚Äç‚ôÇÔ∏è</div>
                                <div class="habit-info">
                                    <div class="habit-name">Exerc√≠cios</div>
                                    <div class="habit-desc">30 min de atividade f√≠sica</div>
                                </div>
                            </div>
                        </div>
                        <div class="table-cell">
                            <span class="badge badge--primary">Sa√∫de</span>
                        </div>
                        <div class="table-cell">Di√°rio</div>
                        <div class="table-cell">Hoje</div>
                        <div class="table-cell">
                            <div class="streak-info">
                                <span class="streak-number">12</span>
                                <span class="streak-label">dias</span>
                            </div>
                        </div>
                        <div class="table-cell">
                            <span class="badge badge--success">Ativo</span>
                        </div>
                        <div class="table-cell">
                            <div class="actions-cell">
                                <a href="detalhe.html" class="btn btn--ghost btn--sm">Editar</a>
                                <button class="btn btn--ghost btn--sm btn--danger" onclick="deleteHabit(this)">Excluir</button>
                            </div>
                        </div>
                    </div>

                    <div class="table-row">
                        <div class="table-cell">
                            <div class="habit-cell">
                                <div class="habit-icon">üìö</div>
                                <div class="habit-info">
                                    <div class="habit-name">Leitura</div>
                                    <div class="habit-desc">20 p√°ginas por dia</div>
                                </div>
                            </div>
                        </div>
                        <div class="table-cell">
                            <span class="badge badge--secondary">Estudos</span>
                        </div>
                        <div class="table-cell">Di√°rio</div>
                        <div class="table-cell">Ontem</div>
                        <div class="table-cell">
                            <div class="streak-info">
                                <span class="streak-number">8</span>
                                <span class="streak-label">dias</span>
                            </div>
                        </div>
                        <div class="table-cell">
                            <span class="badge badge--warning">Pausado</span>
                        </div>
                        <div class="table-cell">
                            <div class="actions-cell">
                                <a href="detalhe.html" class="btn btn--ghost btn--sm">Editar</a>
                                <button class="btn btn--ghost btn--sm btn--danger" onclick="deleteHabit(this)">Excluir</button>
                            </div>
                        </div>
                    </div>

                    <div class="table-row">
                        <div class="table-cell">
                            <div class="habit-cell">
                                <div class="habit-icon">üßò‚Äç‚ôÄÔ∏è</div>
                                <div class="habit-info">
                                    <div class="habit-name">Medita√ß√£o</div>
                                    <div class="habit-desc">10 minutos di√°rios</div>
                                </div>
                            </div>
                        </div>
                        <div class="table-cell">
                            <span class="badge badge--primary">Sa√∫de</span>
                        </div>
                        <div class="table-cell">Di√°rio</div>
                        <div class="table-cell">2 dias atr√°s</div>
                        <div class="table-cell">
                            <div class="streak-info">
                                <span class="streak-number">5</span>
                                <span class="streak-label">dias</span>
                            </div>
                        </div>
                        <div class="table-cell">
                            <span class="badge badge--success">Ativo</span>
                        </div>
                        <div class="table-cell">
                            <div class="actions-cell">
                                <a href="detalhe.html" class="btn btn--ghost btn--sm">Editar</a>
                                <button class="btn btn--ghost btn--sm btn--danger" onclick="deleteHabit(this)">Excluir</button>
                            </div>
                        </div>
                    </div>

                    <div class="table-row">
                        <div class="table-cell">
                            <div class="habit-cell">
                                <div class="habit-icon">üí§</div>
                                <div class="habit-info">
                                    <div class="habit-name">Dormir cedo</div>
                                    <div class="habit-desc">22h - 7h de sono</div>
                                </div>
                            </div>
                        </div>
                        <div class="table-cell">
                            <span class="badge badge--primary">Sa√∫de</span>
                        </div>
                        <div class="table-cell">Di√°rio</div>
                        <div class="table-cell">Hoje</div>
                        <div class="table-cell">
                            <div class="streak-info">
                                <span class="streak-number">20</span>
                                <span class="streak-label">dias</span>
                            </div>
                        </div>
                        <div class="table-cell">
                            <span class="badge badge--success">Ativo</span>
                        </div>
                        <div class="table-cell">
                            <div class="actions-cell">
                                <a href="detalhe.html" class="btn btn--ghost btn--sm">Editar</a>
                                <button class="btn btn--ghost btn--sm btn--danger" onclick="deleteHabit(this)">Excluir</button>
                            </div>
                        </div>
                    </div>

                    <div class="table-row">
                        <div class="table-cell">
                            <div class="habit-cell">
                                <div class="habit-icon">üí∞</div>
                                <div class="habit-info">
                                    <div class="habit-name">Economizar</div>
                                    <div class="habit-desc">R$ 20,00 por dia</div>
                                </div>
                            </div>
                        </div>
                        <div class="table-cell">
                            <span class="badge badge--secondary">Financeiro</span>
                        </div>
                        <div class="table-cell">Di√°rio</div>
                        <div class="table-cell">3 dias atr√°s</div>
                        <div class="table-cell">
                            <div class="streak-info">
                                <span class="streak-number">3</span>
                                <span class="streak-label">dias</span>
                            </div>
                        </div>
                        <div class="table-cell">
                            <span class="badge badge--success">Ativo</span>
                        </div>
                        <div class="table-cell">
                            <div class="actions-cell">
                                <a href="detalhe.html" class="btn btn--ghost btn--sm">Editar</a>
                                <button class="btn btn--ghost btn--sm btn--danger" onclick="deleteHabit(this)">Excluir</button>
                            </div>
                        </div>
                    </div>

                    <div class="table-row">
                        <div class="table-cell">
                            <div class="habit-cell">
                                <div class="habit-icon">üìù</div>
                                <div class="habit-info">
                                    <div class="habit-name">Di√°rio</div>
                                    <div class="habit-desc">Escrever 1 p√°gina</div>
                                </div>
                            </div>
                        </div>
                        <div class="table-cell">
                            <span class="badge badge--secondary">Pessoal</span>
                        </div>
                        <div class="table-cell">Di√°rio</div>
                        <div class="table-cell">1 semana atr√°s</div>
                        <div class="table-cell">
                            <div class="streak-info">
                                <span class="streak-number">0</span>
                                <span class="streak-label">dias</span>
                            </div>
                        </div>
                        <div class="table-cell">
                            <span class="badge badge--gray">Conclu√≠do</span>
                        </div>
                        <div class="table-cell">
                            <div class="actions-cell">
                                <a href="detalhe.html" class="btn btn--ghost btn--sm">Editar</a>
                                <button class="btn btn--ghost btn--sm btn--danger" onclick="deleteHabit(this)">Excluir</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__content">
                <p class="footer__text">
                    ¬© 2024 GrowTrack - Plataforma de Controle de H√°bitos
                </p>
                <p class="footer__text">
                    Desenvolvido por <a href="#" class="footer__link">Guilherme Aquino</a>
                </p>
            </div>
        </div>
    </footer>

    <!-- Modal de confirma√ß√£o -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirmar exclus√£o</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p>Tem certeza que deseja excluir este h√°bito? Esta a√ß√£o n√£o pode ser desfeita.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn--ghost" onclick="closeModal()">Cancelar</button>
                <button class="btn btn--danger" onclick="confirmDelete()">Excluir</button>
            </div>
        </div>
    </div>

    <script>
        let habitToDelete = null;

        function deleteHabit(button) {
            habitToDelete = button.closest('.table-row');
            document.getElementById('deleteModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('deleteModal').style.display = 'none';
            habitToDelete = null;
        }

        function confirmDelete() {
            if (habitToDelete) {
                habitToDelete.style.animation = 'fadeOut 0.3s ease-out';
                setTimeout(() => {
                    habitToDelete.remove();
                }, 300);
            }
            closeModal();
        }

        // Fechar modal ao clicar fora
        window.onclick = function(event) {
            const modal = document.getElementById('deleteModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // Adicionar anima√ß√£o de fade out
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeOut {
                from {
                    opacity: 1;
                    transform: translateX(0);
                }
                to {
                    opacity: 0;
                    transform: translateX(-20px);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
    
    <!-- Script para verificar status do banco de dados -->
    <script src="js/database-status.js"></script>
</body>
</html>
